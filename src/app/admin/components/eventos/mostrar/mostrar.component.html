<div class="flex justify-content-between">
    <h1>Lista de Eventos</h1>
    <p-button label="Adicionar Evento" (onClick)="adicionar()"> </p-button>
  </div>
  
  <div class="card">
    <p-table
      selectionMode="single"
      [(selection)]="lista_eventos"
      [value]="lista_eventos"
      [paginator]="true"
      [rows]="15"
      [scrollable]="true"
      scrollHeight="400px"
      #dt1
      dataKey="id"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [globalFilterFields]="[
        'id',
        'nombre_Evento',
        'fecha_ini',
        'fecha_fin',
        'logo',
        'Institucion.ubicacion',
        'ajustes'
      ]"
      [tableStyle]="{ 'min-width': '50rem' }"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id">
            {{ "codigo" | uppercase }} <p-sortIcon field="id"></p-sortIcon>
          </th>
          <th pSortableColumn="nombre_Evento">
            {{ "Nombre" | uppercase }}
            <p-sortIcon field="nombre_Evento"></p-sortIcon>
          </th>
          <th pSortableColumn="fecha_ini">
            {{ "Inicio" | uppercase }} <p-sortIcon field="fecha_ini"></p-sortIcon>
          </th>
          <th pSortableColumn="fecha_fin">
            {{ "Fin" | uppercase }} <p-sortIcon field="fecha_fin"></p-sortIcon>
          </th>
          
          <th pSortableColumn="logo">
            {{ "Logo" | uppercase }} <p-sortIcon field="logo"></p-sortIcon>
          </th>
          
          <th pSortableColumn="Institucion.ubicacion">
            {{ "ubicacion" | uppercase }} <p-sortIcon field="Institucion.ubicacion"></p-sortIcon>
          </th>
          <!-- <th pSortableColumn="editar">{{"Editar" | uppercase }}  <p-sortIcon field="editar"></p-sortIcon>   </th>
              <th pSortableColumn="eliminar">{{"Eliminar"  | uppercase }}  <p-sortIcon field="eliminar"></p-sortIcon>   </th> -->
          <th pSortableColumn="ajustes">
            {{ "Ajustes" | uppercase }}
            <p-sortIcon field="ajustes"></p-sortIcon>
          </th>
        </tr>
  
        <tr>
          <th>
            <p-columnFilter type="text" field="id"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="nombre_Evento"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="fecha_ini"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="fecha_fin"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="logo"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="Institucion.ubicacion"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="ajustes"></p-columnFilter>
          </th>
          <!-- <th>
                  <p-columnFilter type="text" field="eliminar"></p-columnFilter>
              </th>
              <th>
                  <p-columnFilter type="text" field="actividad"></p-columnFilter>
              </th> -->
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-dato let-dato2>
        <tr>
          <td style="width: 15%">{{ dato.id }}</td>
          <td>{{ dato.nombre_Evento }}</td>
          <td>{{ dato.fecha_ini | date }}</td>
          <td>{{ dato.fecha_fin | date }}</td>
          <td>{{ dato.logo }}</td>
          <!-- para la ubicacion se esta usando joins -->
          <td>{{ dato.Institucion.ubicacion  }}</td>
          <td>
            <p-button
              class="border"
              icon="pi pi-pencil"
              (onClick)="editar(dato)"
              styleClass="p-button-raised p-button-warning"
            ></p-button>
  
            <p-button
              class="border"
              icon="pi pi-trash"
              (onClick)="eliminar(dato.id)"
              styleClass="p-button-raised p-button-danger"
            ></p-button>
  
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  
  <h1>{{editar_evento}}</h1>

  
  <p-toast position="top-right"></p-toast>
  
