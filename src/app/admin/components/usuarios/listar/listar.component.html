<div class="flex justify-content-between">
  <h1>Lista de Usuarios</h1>
  <p-button label="Adicionar Usuario" (onClick)="adicionar()"> </p-button>
</div>

<div class="card">
  <p-table
    selectionMode="single"
    [(selection)]="lista_usuarios"
    [value]="lista_usuarios"
    [paginator]="true"
    [rows]="15"
    [scrollable]="true"
    scrollHeight="400px"
    #dt1
    dataKey="id"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [globalFilterFields]="[
      'nom_usuario',
      'contrasenia',
      'correo',
      'foto',
      'editar',
      'eliminar',
    ]"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">
          {{ "codigo" | uppercase }} <p-sortIcon field="id"></p-sortIcon>
        </th>
        <th pSortableColumn="nom_usuario">
          {{ "usuario" | uppercase }}
          <p-sortIcon field="nom_usuario"></p-sortIcon>
        </th>
        <!-- <th pSortableColumn="contrasenia">
          {{ "Contrase√±a" | uppercase }} <p-sortIcon field="contrasenia"></p-sortIcon>
        </th> -->
        <th pSortableColumn="correo">
          {{ "correo" | uppercase }} <p-sortIcon field="correo"></p-sortIcon>
        </th>
        <th pSortableColumn="foto">
            {{ "foto" | uppercase }} <p-sortIcon field="foto"></p-sortIcon>
          </th>
          
        <th pSortableColumn="actividad">
          {{ "Ajustes" | uppercase }}
          <p-sortIcon field="actividad"></p-sortIcon>
        </th>
      </tr>

      <tr>
        <th>
          <p-columnFilter type="text" field="id"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="nom_usuario"></p-columnFilter>
        </th>
        <!-- <th>
          <p-columnFilter type="text" field="contrasenia"></p-columnFilter>
        </th> -->
        <th>
          <p-columnFilter type="text" field="correo"></p-columnFilter>
        </th>
        <th>
            <p-columnFilter type="text" field="foto"></p-columnFilter>
          </th>
        <th>
          <p-columnFilter type="text" field="editar"></p-columnFilter>
        </th>
        
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-dato>
      <tr>
        <td style="width: 15%">{{ dato.id }}</td>
        <td>{{ dato.nom_usuario}}</td>
        <!-- <td>{{ dato.contrasenia }}</td> -->
        <td>{{ dato.correo}}</td>
        <td>{{ dato.foto}}</td>
        <td>
          <p-button
            class="border"
            icon="pi pi-pencil"
            (onClick)="editar(dato)"
            styleClass="p-button-raised p-button-warning"
          ></p-button>

          <p-button
            class="border"
            icon="pi pi-trash"
            (onClick)="eliminar(dato.id)"
            styleClass="p-button-raised p-button-danger"
          ></p-button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

<p-toast position="top-right"> </p-toast>
