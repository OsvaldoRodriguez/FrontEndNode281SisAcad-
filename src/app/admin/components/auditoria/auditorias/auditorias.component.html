<!-- <p>listar works!</p> -->



<div class="flex justify-content-between">
  <h3>Auditoria</h3>
</div>
<div class="card">
  <p-table
    selectionMode="single"
    [(selection)]="lista_de_auditoria"
    [value]="lista_de_auditoria"
    [paginator]="true"
    [rows]="15"
    [scrollable]="true"
    scrollHeight="400px"
    #dt1
    dataKey="id"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [globalFilterFields]="[
      'nombre_institucion',
      'ubicacion',
      'logo',
      'celular',
      'correo',
      'actividad'
    ]"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">
          {{ "codigo" | uppercase }} <p-sortIcon field="id"></p-sortIcon>
        </th>
        <th pSortableColumn="usuario">
          {{ "Usuario" | uppercase }}
          <p-sortIcon field="usuario"></p-sortIcon>
        </th>
        <th pSortableColumn="fecha">
          {{ "fecha" | uppercase }}
          <p-sortIcon field="fecha"></p-sortIcon>
        </th>
        <th pSortableColumn="tabla">
          {{ "tabla" | uppercase }} <p-sortIcon field="tabla"></p-sortIcon>
        </th>

        <th pSortableColumn="accion">
          {{ "accion" | uppercase }} <p-sortIcon field="accion"></p-sortIcon>
        </th>
        <th pSortableColumn="datos">
          {{ "detalle" | uppercase }}
          <p-sortIcon field="datos"></p-sortIcon>
        </th>
        <!-- <th pSortableColumn="editar">{{"Editar" | uppercase }}  <p-sortIcon field="editar"></p-sortIcon>   </th>
                <th pSortableColumn="eliminar">{{"Eliminar"  | uppercase }}  <p-sortIcon field="eliminar"></p-sortIcon>   </th> -->
        <!-- <th pSortableColumn="actividad">
          {{ "Ajustes" | uppercase }}
          <p-sortIcon field="actividad"></p-sortIcon>
        </th> -->
      </tr>

      <tr>
        <th>
          <p-columnFilter type="text" field="id"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter
            type="text"
            field="usuario"
          ></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="fecha"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="tabla"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="accion"></p-columnFilter>
        </th>
        <th>
          <p-columnFilter type="text" field="datos"></p-columnFilter>
        </th>
        <!-- <th>
          <p-columnFilter type="text" field="editar"></p-columnFilter>
        </th> -->
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-dato>
      <tr>
        <td style="width: 15%">{{ dato.id }}</td>
        <td>{{ dato.usuario }}</td>
        <td>{{ dato.fecha | date }}</td>
        <td>{{ dato.tabla }}</td>
        <td>{{ dato.accion }}</td>
        <td  >{{ replaceSlashAndBackslash(dato.datos)}}</td>
        <!-- <td>
          <p-button
            class="border"
            icon="pi pi-pencil"
            (click)="editar(dato)"
            styleClass="p-button-raised p-button-warning"
          ></p-button>

          <p-button
            class="border"
            icon="pi pi-trash"
            (click)="eliminar(dato.id)"
            styleClass="p-button-raised p-button-danger"
          ></p-button>
        </td> -->
      </tr>
    </ng-template>
  </p-table>
</div>

<!-- <h1>{{ editar_evento }}</h1> -->

<p-toast position="top-right"></p-toast>
